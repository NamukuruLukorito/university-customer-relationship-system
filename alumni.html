<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>UniCare - University CRM System</title>
    <link rel="stylesheet" href="main.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
  </head>

  <body>
      <!-- Navigation bar -->
      <nav>
        <div class="nav-container">
          <h1 class="logo">UniCare</h1>
          <ul class="nav-links">
            <li><a href="dashboard.html">Dashboard</a></li>
            <li><a href="contacts.html">Contacts</a></li>
            <li><a href="courses.html">Courses</a></li>
            <!-- <li><a href="#communication">Jobs opportunities</a></li>
            <li><a href="#reporting">News</a></li>
            <li><a href="#integration">Meetings</a></li> -->
          </ul>
        </div>
      </nav>
      <section class="alumni">

        <div class="toggle-button">
          <button class="pl-3">Events</button>
          <button>Alumni</button>
        </div>
        
        <div class="alumni-list" id="alumni-list">

          <form method="POST" action="alumni_list.php">
            <label for="name">Name:</label>
            <input type="text" id="name" name="name"><br>
          
            <label for="adm_no">Admission Number:</label>
            <input type="text" id="adm_no" name="adm_no"><br>
          
            <label for="graduation_date">Graduation Date:</label>
            <input type="date" id="graduation_date" name="graduation_date"><br>
          
            <input type="submit" value="Submit">
          </form>          
        </div>

        <div>
          <h2>University Courses Alumni Events</h2>
          <table>
            <thead>
              <tr>
                <th style="background-color: lightpink;">Date</th>
                <th style="background-color: lightpink;">Event</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>January 12, 2023</td>
                <td>Networking Night</td>
              </tr>
              <tr>
                <td>February 14, 2023</td>
                <td>Valentine's Day Mixer</td>
              </tr>
              <tr>
                <td>March 17, 2023</td>
                <td>St. Patrick's Day Social</td>
              </tr>
              <tr>
                <td>April 22, 2023</td>
                <td>Earth Day Celebration</td>
              </tr>
              <tr>
                <td>May 20, 2023</td>
                <td>Spring Fling BBQ</td>
              </tr>
              <tr>
                  <td>May 21, 2023</td>
                  <td>Spring Fling BBQ 2</td>
                </tr>
              <tr>
                <td>June 18, 2023</td>
                <td>Alumni Golf Tournament</td>
              </tr>
              <tr>
                <td>July 4, 2023</td>
                <td>Independence Day Picnic</td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>
   <!-- Footer -->
   <footer>
    <div class="footer-container">
      <ul class="footer-links">
        <li><a href="#">Privacy Policy</a></li>
        <li><a href="#">Terms of Use</a></li>
        <li><a href="#">Contact Us</a></li>
      </ul>
    </div>
  </footer>

  <script>
    // $(document).ready(function() {
    //   $.ajax({
    //     url: "alumni_list.php",
    //     type: "GET",
    //     dataType: "json",
    //     success: function(data) {
    //       if (data.length > 0) {
    //         var html = "<ul>";
    //         for (var i = 0; i < data.length; i++) {
    //           html += "<li>" + data[i].name + " (" + data[i].adm_no + ")</li>";
    //         }
    //         html += "</ul>";
    //         $("#alumni-list").html(html);

    //       } else {
    //         $("#alumni-list").html("No alumni found");
    //       }
    //     },
    //     error: function() {
    //       $("#alumni-list").html("Error fetching alumni");
    //     }
    //   });
    // });

    // function fetchAlumni() {
      
    // }

  </script>
  <!-- <script>
    const alumniForm = document.getElementById("alumni-form");

    alumniForm.addEventListener("submit", function(e) {
      e.preventDefault();

      const id = alumniForm.querySelector('input[name="id"]').value;
      const name = alumniForm.querySelector('input[name="name"]').value;
      const adm_no = alumniForm.querySelector('input[name="admNo"]').value;
      const graduation_date = alumniForm.querySelector('input[name="gradDate"]').value;

      // if (id) {
        // Update alumni
        // const url = `alumni_list.php?id=${id}&name=${name}&adm_no=${admNo}&graduation_date=${gradDate}`;
        // fetch(url)
        //   .then(response => response.json())
        //   .then(data => console.log(data))
        //   .catch(error => console.error(error));
      // } else {
        // Add alumni
        // const url = JSON.stringify(`alumni_list.php?name=${name}&adm_no=${admNo}&graduation_date=${gradDate}`);
        // fetch(url)
      
      fetch('alumni_list.php', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ name: name, adm_no: adm_no, graduation_date: graduation_date }),
      })
        .then(response => response.json())
        .then(data => console.log(data))
        .catch(error => console.error(error));
        
      // }
    });

    // Handle delete button click
    const deleteBtn = document.getElementById("delete-btn");
    deleteBtn.addEventListener("click", function() {
      const id = alumniForm.querySelector('input[name="id"]').value;

      const url = `alumni_list.php?id=${id}`;
      fetch(url)
        .then(response => response.json())
        .then(data => console.log(data))
        .catch(error => console.error(error));
    });


  </script> -->

  <script src="./alumni_list.js"></script>
</body>
</html>